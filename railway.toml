# Railway конфигурация для микросервисной архитектуры
# Этот файл определяет общие настройки для всех сервисов в проекте

[build]
builder = "NIXPACKS"

# Общие настройки для всех сервисов
[deploy]
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Примечание: Каждый микросервис должен быть развернут как отдельный сервис в Railway
# с указанием Root Directory в настройках сервиса:
#
# 1. movie-service:
#    - Root Directory: "movie-service"
#    - Build Command: mvn clean package -DskipTests
#    - Start Command: java -jar target/movie-service-0.0.1-SNAPSHOT.jar
#
# 2. user-service:
#    - Root Directory: "user-service"
#    - Build Command: mvn clean package -DskipTests
#    - Start Command: java -jar target/user-service-0.0.1-SNAPSHOT.jar
#
# 3. rating-service:
#    - Root Directory: "rating-service"
#    - Build Command: mvn clean package -DskipTests
#    - Start Command: java -jar target/rating-service-0.0.1-SNAPSHOT.jar
#
# 4. api-gateway:
#    - Root Directory: "api-gateway"
#    - Build Command: mvn clean package -DskipTests
#    - Start Command: java -jar target/api-gateway-0.0.1-SNAPSHOT.jar
#
# 5. eureka-server:
#    - Root Directory: "eureka-server"
#    - Build Command: mvn clean package -DskipTests
#    - Start Command: java -jar target/eureka-server-0.0.1-SNAPSHOT.jar
#
# Railway автоматически определит команды сборки и запуска из pom.xml и Procfile
# в каждой папке микросервиса, если они не указаны явно.
#
# Важно: Убедитесь, что для каждого сервиса указан правильный Root Directory
# в настройках сервиса в Railway UI (Settings → Source → Root Directory)

